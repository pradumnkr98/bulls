{"ast":null,"code":"var _jsxFileName = \"/Users/kraken/Desktop/bulls/src/screens/searchResults/containers/SearchResult.js\";\nimport { SearchResult, SearchBar } from \"../components\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SearchResultContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeHandler = event => {\n      let name = this.state.name;\n      name = event.target.value;\n      this.setState({\n        name: name\n      });\n      console.log(name);\n    };\n\n    this.onSubmitHandler = event => {\n      axios.get(\"http://localhost:8080/user?name=\" + this.state.name).then(response => {\n        if (response.data.code == 200) {\n          this.setState({\n            data: response.data.data.usersList\n          });\n        } else {\n          this.setState({\n            data: [],\n            error: response.data.msg\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.onFollowHandler = userId => {\n      let detail = {\n        followeeId: userId\n      };\n      let {\n        isFollowed\n      } = this.state;\n      axios.post(`http://localhost:8080/user/${localStorage.getItem(\"uid\")}/following`, detail).then(responce => {\n        if (responce.data.code == 200) {\n          isFollowed[userId] = true;\n          console.log(responce);\n          this.setState(isFollowed);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.onViewProfileClickHandler = userId => {\n      axios.get(`http://localhost:8080/user/${userId}/profile`).then(responce => {\n        if (responce.data.code === 200) {\n          this.setState({\n            userDetails: responce.data.data\n          });\n          console.log(responce.data.data);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      data: [],\n      isFollowed: {},\n      name: \"\",\n      error: \"\",\n      userDetails: {\n        name: \"\",\n        dob: \"\",\n        profilePictureUrl: \"\",\n        experienceDetails: {\n          organisationName: \"\",\n          startDate: \"\",\n          endDate: \"\"\n        },\n        educationDetails: {\n          degreeName: \"\",\n          major: \"\",\n          institutionName: \"\",\n          marks: \"\",\n          startDate: \"\",\n          endDate: \"\"\n        }\n      }\n    };\n  }\n\n  getAge(dateString) {\n    var today = new Date();\n    var birthDate = new Date(dateString);\n    var age = today.getFullYear() - birthDate.getFullYear();\n    var m = today.getMonth() - birthDate.getMonth();\n\n    if (m < 0 || m === 0 && today.getDate() < birthDate.getDate()) {\n      age--;\n    }\n\n    return age;\n  }\n\n  render() {\n    const {\n      data,\n      isFollowed,\n      name,\n      error,\n      userDetails\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feedMain\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        name: name,\n        onChangeHandler: this.onChangeHandler,\n        onSubmitHandler: this.onSubmitHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"50px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), data.length !== 0 ? /*#__PURE__*/_jsxDEV(SearchResult, {\n        data: data,\n        onfollowHandler: this.onFollowHandler,\n        isFollowed: isFollowed,\n        userDetails: userDetails,\n        age: g,\n        onViewProfileClickHandler: this.onViewProfileClickHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SearchResultContainer;","map":{"version":3,"sources":["/Users/kraken/Desktop/bulls/src/screens/searchResults/containers/SearchResult.js"],"names":["SearchResult","SearchBar","React","Component","axios","SearchResultContainer","constructor","props","onChangeHandler","event","name","state","target","value","setState","console","log","onSubmitHandler","get","then","response","data","code","usersList","error","msg","catch","onFollowHandler","userId","detail","followeeId","isFollowed","post","localStorage","getItem","responce","onViewProfileClickHandler","userDetails","dob","profilePictureUrl","experienceDetails","organisationName","startDate","endDate","educationDetails","degreeName","major","institutionName","marks","getAge","dateString","today","Date","birthDate","age","getFullYear","m","getMonth","getDate","render","marginTop","length","g"],"mappings":"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","sourcesContent":["import { SearchResult, SearchBar } from \"../components\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass SearchResultContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      isFollowed: {},\n      name: \"\",\n      error: \"\",\n      userDetails: {\n        name: \"\",\n        dob: \"\",\n        profilePictureUrl: \"\",\n        experienceDetails: { organisationName: \"\", startDate: \"\", endDate: \"\" },\n        educationDetails: {\n          degreeName: \"\",\n          major: \"\",\n          institutionName: \"\",\n          marks: \"\",\n          startDate: \"\",\n          endDate: \"\",\n        },\n      },\n    };\n  }\n\n  onChangeHandler = (event) => {\n    let name = this.state.name;\n    name = event.target.value;\n    this.setState({ name: name });\n    console.log(name);\n  };\n\n  onSubmitHandler = (event) => {\n    axios\n      .get(\"http://localhost:8080/user?name=\" + this.state.name)\n      .then((response) => {\n        if (response.data.code == 200) {\n          this.setState({ data: response.data.data.usersList });\n        } else {\n          this.setState({ data: [], error: response.data.msg });\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  onFollowHandler = (userId) => {\n    let detail = { followeeId: userId };\n    let { isFollowed } = this.state;\n    axios\n      .post(\n        `http://localhost:8080/user/${localStorage.getItem(\"uid\")}/following`,\n        detail\n      )\n      .then((responce) => {\n        if (responce.data.code == 200) {\n          isFollowed[userId] = true;\n          console.log(responce);\n          this.setState(isFollowed);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  onViewProfileClickHandler = (userId) => {\n    axios\n      .get(`http://localhost:8080/user/${userId}/profile`)\n      .then((responce) => {\n        if (responce.data.code === 200) {\n          this.setState({ userDetails: responce.data.data });\n          console.log(responce.data.data);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  getAge(dateString) \n  {\n    var today = new Date();\n    var birthDate = new Date(dateString);\n    var age = today.getFullYear() - birthDate.getFullYear();\n    var m = today.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) \n    {\n        age--;\n    }\n    return age;\n  }\n\n  render() {\n    const { data, isFollowed, name, error, userDetails } = this.state;\n    return (\n      <div className=\"feedMain\">\n        <SearchBar\n          name={name}\n          onChangeHandler={this.onChangeHandler}\n          onSubmitHandler={this.onSubmitHandler}\n        />\n        <div style={{ marginTop: \"50px\" }}></div>\n        {data.length !== 0 ? (\n          <SearchResult\n            data={data}\n            onfollowHandler={this.onFollowHandler}\n            isFollowed={isFollowed}\n            userDetails={userDetails}\n            age = {g}\n            onViewProfileClickHandler={this.onViewProfileClickHandler}\n          />\n        ) : (\n          <div>\n            <p>{error}</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default SearchResultContainer;\n"]},"metadata":{},"sourceType":"module"}